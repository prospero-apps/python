#:kivy 1.11.1
# File name: race.kv

### CLASS RULES ###

<RegularLabel@Label>:
    color: .2, .1, 0, 1
    text_size: self.size
    halign: 'left'
    valign: 'center'

<BoldLabel@RegularLabel>:    
    bold: True

# The RedButton class rule.
# Make sure to remove the RightButton class.
<RedButton@Button>:
    background_color: .8, 0, 0, 1
    color: 1, .8, .1, 1
    bold: True
    font_size: 18
    size_hint: (None, None)    
    size: 200, 40
    pos_hint: {'center_x': 0.5}

<RaceScreen>:
    canvas:
        Color:
            rgba: 1, 1, .8, 1
        Rectangle:
            pos: self.pos
            size: self.size  

    orientation: 'vertical'
    spacing: 10
    padding: 10
    
    ### INFO, STATS AND BUTTONS ###
    GridLayout:
        cols: 4
        size_hint: 1, .5
        spacing: 10

        # Game Info
        BoxLayout:
            canvas:
                Color:
                    rgba: .2, .1, 0, 1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10        
                    width: 2

            orientation: 'vertical'
            padding: 10

            BoldLabel:
                text: 'Game Info:'
            BoxLayout:                    
                RegularLabel:
                    size_hint: (2.5, 1)
                    text: 'Race No'
                RegularLabel: 
                    text: '1'            
            BoxLayout:                                                      
                RegularLabel: 
                    size_hint: (2.5, 1)                        
                    text: 'Number of races set:' 
                RegularLabel:
                    text: '10'                        
            BoxLayout:
                RegularLabel: 
                    size_hint: (2.5, 1)
                    text: 'Races finished:' 
                RegularLabel:
                    text: '0'          
            BoxLayout:
                RegularLabel:
                    size_hint: (2.5, 1)
                    text: 'Races to go:' 
                RegularLabel:
                    text: '10'

        # Slugs' Stats           
        BoxLayout:
            canvas:
                Color:
                    rgba: .2, .1, 0, 1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10        
                    width: 2

            orientation: 'vertical'
            padding: 10

            BoldLabel:
                text: "Slugs' Stats"
            
            BoxLayout:
                spacing: 10
                RegularLabel:
                    text: "Speedster"
                RegularLabel:
                    text: '7 wins'
                RegularLabel:   
                    text: '70%'
                    
            BoxLayout:
                spacing: 10
                RegularLabel:
                    text: "Trusty"
                RegularLabel:
                    text: '1 win'
                RegularLabel:   
                    text: '10%'
            
            BoxLayout:
                spacing: 10
                RegularLabel:
                    text: "Iffy"
                RegularLabel:
                    text: '0 wins'
                RegularLabel:   
                    text: '0%'
            
            BoxLayout:
                spacing: 10
                RegularLabel:
                    text: "Slowpoke"
                RegularLabel:
                    text: '2 wins'
                RegularLabel:   
                    text: '20%'

        # Players' Stats           
        BoxLayout:
            canvas:
                Color:
                    rgba: .2, .1, 0, 1
                Line:
                    rounded_rectangle: self.x, self.y, self.width, self.height, 10        
                    width: 2

            orientation: 'vertical'
            padding: 10

            BoldLabel:
                text: "Players' Stats"                                

            BoxLayout:                                     
                RegularLabel:
                    text: 'Player 1'
                RegularLabel:
                    text: 'has $1000' 

            BoxLayout:  
                RegularLabel:
                    text: 'Player 2'
                RegularLabel:
                    text: 'has $800'

            BoxLayout: 
                RegularLabel:
                    text: 'Player 3'
                RegularLabel:
                    text: 'has $1300'

            BoxLayout:  
                RegularLabel:
                    text: 'Player 4'
                RegularLabel:
                    text: 'has $1200'

        # Buttons
        BoxLayout:
            orientation: 'vertical'   
            spacing: 3 
            size_hint: .7, 1               
            
            # We're replacing the three RightButtons with RedButtons.
            # We have to overwrite the pos_hint property.
            RedButton:
                text: 'End Game'  
                pos_hint: {'right': 1}

            RedButton:
                text: 'Instructions'   
                pos_hint: {'right': 1}
            
            # Here we have to overwrite the size property too.
            RedButton: 
                text: 'Sound'
                pos_hint: {'right': 1}
                size: 70, 40

    
    ### THE TRACK ###
    BoxLayout:  
        canvas:
            Color:
                rgba: .2, .1, 0, 1
            Line:
                rounded_rectangle: self.x, self.y, self.width, self.height, 10        
                width: 2
      
        padding: 10

        # Track Image
        Label: 
            color: .2, .1, 0, 1                     
            text: 'TRACK IMAGE'

        # Winner
        BoxLayout:
            orientation: 'vertical'
            size_hint: (.18, 1)

            Label:
                color: .2, .1, 0, 1
                text: "The winner is"
                font_size: 24
                size_hint: 1, .2
                bold: True

            Label:
                color: .2, .1, 0, 1
                text: "Trusty"
                font_size: 32
                size_hint: 1, .2
                bold: True

            Label:
                color: .2, .1, 0, 1
                text: 'WINNER'
    
    ### THE BETS ###
    Label:
        canvas:
            Color:
                rgba: .2, .1, 0, 1
            Line:
                rounded_rectangle: self.x, self.y, self.width, self.height, 10        
                width: 2

        color: .2, .1, 0, 1
        text: 'The Bets'
